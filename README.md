# JPcandle
Creating Japanese candles using PySpark

### О проекте 

В если тестирование проекта будет на Ubuntu (возможно на других дистрибутивах linux тоже работает), 
то для запуска программы достаточно создать папку с базой данных и поправить путь к ней в `.config/config_env.sh`, 
после чего сделать `make run`.

В противном случае нужно в ручную установить библиотеки из `.config/requirements.txt`
и запускать стандартным образом:  
`python main.py some-args`.

Для конфигурации запуска добавлены некоторые аргументы командной строки.

### Аргументы командной строки 

#### `database-csv`

Это первый, обязательный аргумент, определяющий путь к базе данных в формате csv. 
```
python main.py path-to-database
```

#### `--config`

Необязательный, путь к конфигурационному файлу в формате xml, содержащему параметры свечей.  
Если его нет, будут взяты значения по умолчанию.
```
python main.py --config path/to/candle_config.xml
```

#### `--outdir`

Необязательный, путь к директории в которую будет записан результат.  
Если его нет, будет выбрана директория `./output`.
```
python main.py --outdir path/to/outdir
```

#### `--clean-output-dir`

Необязательный, если он указан, но директория для результатов будет очищена (удалит все файлы и директории в ней)  

Если он не указан, это действие не будет выполнено
```
python main.py --clean-output-dir
```

#### `--sort-by-moment`

Необязательный, если он указан, то все свечи внутри каждого файла будут отсортированы по времени их начала (по колонке MOMENT)

Если он не указан, это действие не будет выполнено
```
python main.py --sort-by-moment
```

